# 6장. 다양한 연관관계 매핑

## 입구

* 복습!! 엔티티의 연관관계를 매핑할 때 3가지 고려사항
  * 다중성
    * 다대일, 일대다, 일대일, 다대다
  * 단방향, 양방향
    * 테이블 : 원래 외래키로 양방향 지원. 사실상 방향 개념 없음
    * 객체 : 참조용 필드를 가지고 있는 객체만 연관된 객체를 조회 가능. 이 경우가 단방향
    * 양쪽을 서로 참조하면 양방향
  * 연관관계의 주인 (이하 주인)
    * 테이블의 연관관계를 관리하는 포인트는 외래키 하나
    * 하지만 엔티티를 양방향으로 매핑하면 2곳에서 서로를 참조 (관리 포인트 2곳)
    * 주인 : 두 객체 연관관계 중 하나를 정해서 데이터베이스 외래키를 관리


## 6.1 다대일

* (사견) 5장 내용과 대부분 겹침외래키는 항상 다 쪽 = 주인은 항상 다 쪽참조하는 필드 없음 = 조회 못함@JoinColum(name = "TEAM_ID")Member.team 필드를 TEAM_ID 외래키와 매핑Member.team 필드로 TEAM_ID 외래키를 관리양방향은 외래키가 있는 쪽이 연관관계의 주인이다양방향 연관관계는 항상 서로를 참조해야 한다서로 참조하게 하려면 연관관계 편의 메소드가 있으면 굳~ (setTeam, addMember)검사로직 없이 편의 메소드를 양쪽에 다 작성하면 무한루프가 될 수도!! (주의가 필요하다)


##

##

##

##

##

<br>

![](../../group/orm-jpa/image/5-end.png)
